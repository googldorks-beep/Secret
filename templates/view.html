{% extends "layout.html" %}
{% block content %}
<div class="paste-row glow-{{ p.style }}" style="cursor: default;">
    <h1 style="margin: 0; border-bottom: 1px solid rgba(255,255,255,0.1); padding-bottom: 10px;">{{ p.title }}</h1>
    <div style="font-size: 12px; color: #555; margin: 10px 0;">
        OPERATOR: <span class="{{ 'waxues-nick' if p.sender == 'waxues' else '' }}">{{ p.sender }}</span> | VIEWS: {{ p.views }}
    </div>
    <div style="background: rgba(0,0,0,0.5); padding: 20px; white-space: pre-wrap; font-family: 'Courier New'; border-radius: 4px; border: 1px solid rgba(255,255,255,0.05);">{{ p.content }}</div>
</div>

<div style="margin-top: 20px; display: flex; gap: 20px;">
    <a href="/vote/{{ p.id }}/up" style="color: #00ff41; text-decoration: none; font-weight: bold;">[ LIKE: {{ p.likes }} ]</a>
    <a href="/vote/{{ p.id }}/down" style="color: #ff0000; text-decoration: none; font-weight: bold;">[ DISLIKE: {{ p.dislikes }} ]</a>
</div>

<div style="margin-top: 40px;">
    <h3>COMMENTS</h3>
    {% if session.user %}
    <form method="POST" action="/paste/{{ p.id }}">
        <textarea name="comment" placeholder="Write a comment..." required style="height: 80px;"></textarea>
        <button type="submit" class="btn" style="width: 150px;">SEND</button>
    </form>
    {% endif %}

    <div style="margin-top: 20px;">
        {% for c in comments %}
        <div style="border-left: 2px solid var(--red); padding-left: 15px; margin-bottom: 15px; background: rgba(255,255,255,0.02); padding: 10px;">
            <b style="color: var(--red);">{{ c.sender }}</b>: 
            <span style="color: #ccc;">{{ c.text }}</span>
        </div>
        {% endfor %}
    </div>
</div>
{% endblock %}
